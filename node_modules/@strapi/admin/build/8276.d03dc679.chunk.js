"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[8276],{27005:function($,O,e){e.d(O,{pl:function(){return R},aY:function(){return f},q5:function(){return S}});var t=e(32735),c=e(19565),T=e(86209),E=e(97889);const d={data:[],isLoading:!0};var C=(a,o)=>(0,E.ZP)(a,s=>{switch(o.type){case"GET_DATA_SUCCEEDED":{s.data=o.data,s.isLoading=!1;break}case"GET_DATA_ERROR":{s.isLoading=!1;break}default:return s}}),R=({ssoEnabled:a})=>{const[o,s]=(0,t.useReducer)(C,d),L=(0,c.lm)(),{get:P}=(0,c.kY)();return(0,t.useEffect)(()=>{(async()=>{try{if(!a){s({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:g}=await P((0,T.IF)("providers"));s({type:"GET_DATA_SUCCEEDED",data:g})}catch(g){console.error(g),s({type:"GET_DATA_ERROR"}),L({type:"warning",message:{id:"notification.error"}})}})()},[P,a,L]),o},M=e(36866),h=e.n(M),y=e(67879),I=e(53038),l=e(20108),v=e(15062),n=e(30305);function p(){const a=(0,v.v9)(n._),{get:o}=(0,c.kY)(),{isLoading:s,allowedActions:{canRead:L,canCreate:P,canUpdate:D,canDelete:g}}=(0,c.ss)(a.settings.users),U=L&&P&&D&&g,{data:m,isError:B,isLoading:N}=(0,l.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:W}}=await o("/admin/license-limit-information");return W},{enabled:!s&&U}),A=m??{},F=t.useCallback(W=>(A?.features??[]).find(G=>G.name===W)?.options??{},[A?.features]);return{license:A,getFeature:F,isError:B,isLoading:N}}var S=p;const i="strapi-notification-seat-limit",x="https://cloud.strapi.io/profile/billing",Z="https://strapi.io/billing/request-seats";var f=()=>{const{formatMessage:a}=(0,y.Z)();let{license:o,isError:s,isLoading:L}=S();const P=(0,c.lm)(),{pathname:D}=(0,I.TH)(),{enforcementUserCount:g,permittedSeats:U,licenseLimitStatus:m,isHostedOnStrapiCloud:B}=o;(0,t.useEffect)(()=>{if(s||L)return;const N=!h()(U)&&!window.sessionStorage.getItem(`${i}-${D}`)&&(m==="AT_LIMIT"||m==="OVER_LIMIT");let A;m==="OVER_LIMIT"?A="warning":m==="AT_LIMIT"&&(A="softWarning"),N&&P({type:A,message:a({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:m}),title:a({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:m,enforcementUserCount:g,permittedSeats:U}),link:{url:B?x:Z,label:a({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:B})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${i}-${D}`,!0)}})},[P,o,D,a,L,U,m,g,B,s])}},68726:function($,O,e){var t=e(32735),c=e(87933),T=e(63919),E=e(49372),d=e(15335),u=e(5803),C=e(60216),r=e.n(C),R=e(67879),M=e(14911),h=e(8471);const y=h.ZP.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:n})=>n.colors.neutral150};
  border-radius: ${({theme:n})=>n.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:n})=>n.colors.neutral600};
`,I=(0,h.ZP)(c.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:n})=>n.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:n})=>n.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:n})=>n.spaces[2]};
  }
`,l=({provider:n})=>t.createElement(T.u,{label:n.displayName},t.createElement(y,{href:`${window.strapi.backendURL}/admin/connect/${n.uid}`},n.icon?t.createElement("img",{src:n.icon,"aria-hidden":!0,alt:"",height:"32px"}):t.createElement(E.Z,null,n.displayName)));l.propTypes={provider:r().shape({icon:r().string,displayName:r().string.isRequired,uid:r().string.isRequired}).isRequired};const v=({providers:n,displayAllProviders:p})=>{const{formatMessage:S}=(0,R.Z)();return p?t.createElement(d.r,{gap:4},n.map(i=>t.createElement(u.P,{key:i.uid,col:4},t.createElement(l,{provider:i})))):n.length>2&&!p?t.createElement(d.r,{gap:4},n.slice(0,2).map(i=>t.createElement(u.P,{key:i.uid,col:4},t.createElement(l,{provider:i}))),t.createElement(u.P,{col:4},t.createElement(T.u,{label:S({id:"global.see-more"})},t.createElement(y,{as:M.rU,to:"/auth/providers"},t.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):t.createElement(I,{justifyContent:"center"},n.map(i=>t.createElement(l,{key:i.uid,provider:i})))};v.defaultProps={displayAllProviders:!0},v.propTypes={providers:r().arrayOf(r().object).isRequired,displayAllProviders:r().bool},O.Z=v},18276:function($,O,e){e.r(O),e.d(O,{FORMS:function(){return x}});var t=e(32735),c=e(9026),T=e(27649),E=e(72850),d=e(49372),u=e(87933),C=e(23866),r=e(41415),R=e(19565),M=e(67879),h=e(53038),y=e(8471),I=e(73678),l=e(11060),v=e(27005),n=e(68726);const p=(0,y.ZP)(c.i)`
  flex: 1;
`;var i=()=>{const Z=window.strapi.features.isEnabled(window.strapi.features.SSO),{push:K}=(0,h.k6)(),{formatMessage:f}=(0,M.Z)(),{isLoading:a,data:o}=(0,v.pl)({ssoEnabled:Z}),s=()=>{K("/auth/login")};return!Z||!a&&o.length===0?t.createElement(h.l_,{to:"/auth/login"}):t.createElement(l.ZP,null,t.createElement(T.o,null,t.createElement(l.bU,null,t.createElement(l.sg,null,t.createElement(I.Z,null),t.createElement(E.x,{paddingTop:6,paddingBottom:1},t.createElement(d.Z,{as:"h1",variant:"alpha"},f({id:"Auth.form.welcome.title"}))),t.createElement(E.x,{paddingBottom:7},t.createElement(d.Z,{variant:"epsilon",textColor:"neutral600"},f({id:"Auth.login.sso.subtitle"})))),t.createElement(u.k,{direction:"column",alignItems:"stretch",gap:7},a?t.createElement(u.k,{justifyContent:"center"},t.createElement(C.a,null,f({id:"Auth.login.sso.loading"}))):t.createElement(n.Z,{providers:o}),t.createElement(u.k,null,t.createElement(p,null),t.createElement(E.x,{paddingLeft:3,paddingRight:3},t.createElement(d.Z,{variant:"sigma",textColor:"neutral600"},f({id:"or"}))),t.createElement(p,null)),t.createElement(r.z,{fullWidth:!0,size:"L",onClick:s},f({id:"Auth.form.button.login.strapi"})))),t.createElement(u.k,{justifyContent:"center"},t.createElement(E.x,{paddingTop:4},t.createElement(R.rU,{to:"/auth/forgot-password"},t.createElement(d.Z,{variant:"pi"},f({id:"Auth.link.forgot-password"})))))))};const x={providers:{Component:i,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}}}]);
