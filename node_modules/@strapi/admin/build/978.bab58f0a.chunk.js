"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[978],{90978:function(y,u,t){t.r(u),t.d(u,{InformationBoxEE:function(){return v}});var e=t(32735),a=t(77035),l=t(87933),d=t(49372),r=t(23866),o=t(19565),i=t(67879),s=t(20108),n=t(98865),m=t(32329),O=t(68886);const c="strapi_reviewWorkflows_stage";function v(){const{initialData:g,isCreatingEntry:S,layout:{uid:R},isSingleType:k,onChange:D}=(0,o.Wq)(),{put:I}=(0,o.kY)(),E=g?.[c]??null,P=Object.prototype.hasOwnProperty.call(g,c),{formatMessage:h}=(0,i.Z)(),{formatAPIError:L}=(0,o.So)(),M=(0,o.lm)(),{workflows:N,isLoading:G}=(0,m.n)(),C=N?.[0]??null,{error:W,isLoading:U,mutateAsync:_}=(0,s.useMutation)(async({entityId:f,stageId:w,uid:T})=>{const A=k?"single-types":"collection-types",{data:{data:p}}=await I(`/admin/content-manager/${A}/${T}/${f}/stage`,{data:{id:w}});return D({target:{name:c,value:p[c]}},!0),p},{onSuccess(){M({type:"success",message:{id:"content-manager.reviewWorkflows.stage.notification.saved",defaultMessage:"Review stage updated"}})}}),B=E===null&&!G&&!S&&h({id:"content-manager.reviewWorkflows.stage.select.placeholder",defaultMessage:"Select a stage"}),K=W&&L(W)||B||null,F=async({value:f})=>{try{await _({entityId:g.id,stageId:f,uid:R})}catch{}},{themeColorName:x}=E?.color?(0,O.k)(E?.color):{};return e.createElement(n.d.Root,null,e.createElement(n.d.Title,null),P&&!S&&e.createElement(a.q4,{error:K,name:c,id:c,value:E?.id,onChange:f=>F({value:f}),label:h({id:"content-manager.reviewWorkflows.stage.label",defaultMessage:"Review stage"}),startIcon:e.createElement(l.k,{as:"span",height:2,background:E?.color,borderColor:x==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2,marginRight:"-3px"}),customizeContent:()=>e.createElement(l.k,{as:"span",justifyContent:"space-between",alignItems:"center",width:"100%"},e.createElement(d.Z,{textColor:"neutral800",ellipsis:!0},E?.name),U?e.createElement(r.a,{small:!0,style:{display:"flex"}}):null)},C?C.stages.map(({id:f,color:w,name:T})=>{const{themeColorName:A}=(0,O.k)(w);return e.createElement(a.ag,{startIcon:e.createElement(l.k,{height:2,background:w,borderColor:A==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2}),value:f,textValue:T},T)}):[]),e.createElement(n.d.Body,null))}},2121:function(y,u,t){t.d(u,{$k:function(){return i},FT:function(){return n},Nj:function(){return o},Ot:function(){return r},QM:function(){return l},lv:function(){return s},sN:function(){return a},uL:function(){return m},x4:function(){return d}});var e=t(12301);const a="settings_review-workflows",l="Settings/Review_Workflows/SET_WORKFLOWS",d="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",r="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",o="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",i="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",s={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},n=e.W.colors.primary600,m={STAGE:"stage"}},32329:function(y,u,t){t.d(u,{n:function(){return l}});var e=t(19565),a=t(20108);function l(d={}){const{id:r="",...o}=d,i={populate:"stages"},{get:s}=(0,e.kY)(),{data:n,isLoading:m,status:O,refetch:c}=(0,a.useQuery)(["review-workflows","workflows",r],async()=>{try{const{data:{data:g}}=await s(`/admin/review-workflows/workflows/${r}`,{params:{...i,...o}});return g}catch{return null}});let v=[];return r&&n?v=[n]:Array.isArray(n)&&(v=n),{workflows:v,isLoading:m,status:O,refetch:c}}},68886:function(y,u,t){t.d(u,{k:function(){return l},s:function(){return d}});var e=t(12301),a=t(2121);function l(r){if(!r)return null;const i=Object.entries(e.W.colors).filter(([,s])=>s.toUpperCase()===r.toUpperCase()).reduce((s,[n])=>(a.lv?.[n]&&(s=n),s),null);return i?{themeColorName:i,name:a.lv[i]}:null}function d(){return Object.entries(a.lv).map(([r,o])=>({hex:e.W.colors[r].toUpperCase(),name:o}))}}}]);
