"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[2395],{27005:function(K,L,t){t.d(L,{pl:function(){return y},aY:function(){return N},q5:function(){return R}});var e=t(32735),o=t(19565),_=t(86209),p=t(97889);const M={data:[],isLoading:!0};var l=(a,E)=>(0,p.ZP)(a,i=>{switch(E.type){case"GET_DATA_SUCCEEDED":{i.data=E.data,i.isLoading=!1;break}case"GET_DATA_ERROR":{i.isLoading=!1;break}default:return i}}),y=({ssoEnabled:a})=>{const[E,i]=(0,e.useReducer)(l,M),P=(0,o.lm)(),{get:D}=(0,o.kY)();return(0,e.useEffect)(()=>{(async()=>{try{if(!a){i({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:m}=await D((0,_.IF)("providers"));i({type:"GET_DATA_SUCCEEDED",data:m})}catch(m){console.error(m),i({type:"GET_DATA_ERROR"}),P({type:"warning",message:{id:"notification.error"}})}})()},[D,a,P]),E},v=t(36866),f=t.n(v),T=t(67879),I=t(53038),c=t(20108),d=t(15062),s=t(30305);function g(){const a=(0,d.v9)(s._),{get:E}=(0,o.kY)(),{isLoading:i,allowedActions:{canRead:P,canCreate:D,canUpdate:h,canDelete:m}}=(0,o.ss)(a.settings.users),C=P&&D&&h&&m,{data:u,isError:U,isLoading:B}=(0,c.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:W}}=await E("/admin/license-limit-information");return W},{enabled:!i&&C}),O=u??{},$=e.useCallback(W=>(O?.features??[]).find(x=>x.name===W)?.options??{},[O?.features]);return{license:O,getFeature:$,isError:U,isLoading:B}}var R=g;const n="strapi-notification-seat-limit",S="https://cloud.strapi.io/profile/billing",Z="https://strapi.io/billing/request-seats";var N=()=>{const{formatMessage:a}=(0,T.Z)();let{license:E,isError:i,isLoading:P}=R();const D=(0,o.lm)(),{pathname:h}=(0,I.TH)(),{enforcementUserCount:m,permittedSeats:C,licenseLimitStatus:u,isHostedOnStrapiCloud:U}=E;(0,e.useEffect)(()=>{if(i||P)return;const B=!f()(C)&&!window.sessionStorage.getItem(`${n}-${h}`)&&(u==="AT_LIMIT"||u==="OVER_LIMIT");let O;u==="OVER_LIMIT"?O="warning":u==="AT_LIMIT"&&(O="softWarning"),B&&D({type:O,message:a({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:u}),title:a({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:u,enforcementUserCount:m,permittedSeats:C}),link:{url:U?S:Z,label:a({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:U})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${n}-${h}`,!0)}})},[D,E,h,a,P,C,u,m,U,i])}},82395:function(K,L,t){t.r(L),t.d(L,{LoginEE:function(){return d}});var e=t(32735),o=t(9026),_=t(72850),p=t(87933),M=t(49372),A=t(60216),l=t.n(A),r=t(67879),y=t(8471),v=t(11060),f=t(24436),T=t(27005),I=t(68726);const c=(0,y.ZP)(o.i)`
  flex: 1;
`,d=s=>{const g=window.strapi.features.isEnabled(window.strapi.features.SSO),{isLoading:R,data:n}=(0,T.pl)({ssoEnabled:g}),{formatMessage:S}=(0,r.Z)();return!g||!R&&n.length===0?e.createElement(v.ZP,null,e.createElement(f.Z,{...s})):e.createElement(v.ZP,null,e.createElement(f.Z,{...s},e.createElement(_.x,{paddingTop:7},e.createElement(p.k,{direction:"column",alignItems:"stretch",gap:7},e.createElement(p.k,null,e.createElement(c,null),e.createElement(_.x,{paddingLeft:3,paddingRight:3},e.createElement(M.Z,{variant:"sigma",textColor:"neutral600"},S({id:"Auth.login.sso.divider"}))),e.createElement(c,null)),e.createElement(I.Z,{providers:n,displayAllProviders:!1})))))};d.defaultProps={onSubmit:s=>s.preventDefault(),requestError:null},d.propTypes={formErrors:l().object.isRequired,modifiedData:l().object.isRequired,onChange:l().func.isRequired,onSubmit:l().func,requestError:l().object}},68726:function(K,L,t){var e=t(32735),o=t(87933),_=t(63919),p=t(49372),M=t(15335),A=t(5803),l=t(60216),r=t.n(l),y=t(67879),v=t(14911),f=t(8471);const T=f.ZP.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:s})=>s.colors.neutral150};
  border-radius: ${({theme:s})=>s.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:s})=>s.colors.neutral600};
`,I=(0,f.ZP)(o.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:s})=>s.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:s})=>s.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:s})=>s.spaces[2]};
  }
`,c=({provider:s})=>e.createElement(_.u,{label:s.displayName},e.createElement(T,{href:`${window.strapi.backendURL}/admin/connect/${s.uid}`},s.icon?e.createElement("img",{src:s.icon,"aria-hidden":!0,alt:"",height:"32px"}):e.createElement(p.Z,null,s.displayName)));c.propTypes={provider:r().shape({icon:r().string,displayName:r().string.isRequired,uid:r().string.isRequired}).isRequired};const d=({providers:s,displayAllProviders:g})=>{const{formatMessage:R}=(0,y.Z)();return g?e.createElement(M.r,{gap:4},s.map(n=>e.createElement(A.P,{key:n.uid,col:4},e.createElement(c,{provider:n})))):s.length>2&&!g?e.createElement(M.r,{gap:4},s.slice(0,2).map(n=>e.createElement(A.P,{key:n.uid,col:4},e.createElement(c,{provider:n}))),e.createElement(A.P,{col:4},e.createElement(_.u,{label:R({id:"global.see-more"})},e.createElement(T,{as:v.rU,to:"/auth/providers"},e.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):e.createElement(I,{justifyContent:"center"},s.map(n=>e.createElement(c,{key:n.uid,provider:n})))};d.defaultProps={displayAllProviders:!0},d.propTypes={providers:r().arrayOf(r().object).isRequired,displayAllProviders:r().bool},L.Z=d}}]);
