"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[2801],{27005:function(I,m,t){t.d(m,{pl:function(){return C},aY:function(){return W},q5:function(){return v}});var l=t(32735),o=t(19565),g=t(86209),L=t(97889);const D={data:[],isLoading:!0};var p=(s,i)=>(0,L.ZP)(s,e=>{switch(i.type){case"GET_DATA_SUCCEEDED":{e.data=i.data,e.isLoading=!1;break}case"GET_DATA_ERROR":{e.isLoading=!1;break}default:return e}}),C=({ssoEnabled:s})=>{const[i,e]=(0,l.useReducer)(p,D),r=(0,o.lm)(),{get:c}=(0,o.kY)();return(0,l.useEffect)(()=>{(async()=>{try{if(!s){e({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:a}=await c((0,g.IF)("providers"));e({type:"GET_DATA_SUCCEEDED",data:a})}catch(a){console.error(a),e({type:"GET_DATA_ERROR"}),r({type:"warning",message:{id:"notification.error"}})}})()},[c,s,r]),i},R=t(36866),P=t.n(R),S=t(67879),O=t(53038),y=t(20108),M=t(15062),U=t(30305);function N(){const s=(0,M.v9)(U._),{get:i}=(0,o.kY)(),{isLoading:e,allowedActions:{canRead:r,canCreate:c,canUpdate:d,canDelete:a}}=(0,o.ss)(s.settings.users),f=r&&c&&d&&a,{data:n,isError:E,isLoading:A}=(0,y.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:T}}=await i("/admin/license-limit-information");return T},{enabled:!e&&f}),u=n??{},Y=l.useCallback(T=>(u?.features??[]).find(F=>F.name===T)?.options??{},[u?.features]);return{license:u,getFeature:Y,isError:E,isLoading:A}}var v=N;const h="strapi-notification-seat-limit",G="https://cloud.strapi.io/profile/billing",B="https://strapi.io/billing/request-seats";var W=()=>{const{formatMessage:s}=(0,S.Z)();let{license:i,isError:e,isLoading:r}=v();const c=(0,o.lm)(),{pathname:d}=(0,O.TH)(),{enforcementUserCount:a,permittedSeats:f,licenseLimitStatus:n,isHostedOnStrapiCloud:E}=i;(0,l.useEffect)(()=>{if(e||r)return;const A=!P()(f)&&!window.sessionStorage.getItem(`${h}-${d}`)&&(n==="AT_LIMIT"||n==="OVER_LIMIT");let u;n==="OVER_LIMIT"?u="warning":n==="AT_LIMIT"&&(u="softWarning"),A&&c({type:u,message:s({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:n}),title:s({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:n,enforcementUserCount:a,permittedSeats:f}),link:{url:E?G:B,label:s({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:E})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${h}-${d}`,!0)}})},[c,i,d,s,r,f,n,a,E,e])}},12801:function(I,m,t){t.r(m),t.d(m,{UserListPageEE:function(){return L}});var l=t(32735),o=t(99528),g=t(27005);function L(){return(0,g.aY)(),l.createElement(o.W,null)}}}]);
